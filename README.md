# Database Pharmacy

Это база данных для сети аптек.

Таблицы:

- **specialization** - специализации аптек
- **producer** - производители лекарств
- **medicine_type** - виды лекарств (таблетки, мазь и т.д.)
- **medicine** - информация о лекарствах
- **pharmacy** - информация об аптеках
- **indication** - показания к применению лекарств
- **contraindication** - противопоказания к применению лекарств
- **pharmacy_medicine** - информация о доступных лекарствах в аптеках
- **medicine_indication** - таблица для связи лекарств и показаний
- **medicine_contraindication** - таблица для связи лекарств и противопоказаний

#### База данных находится в 3 нормальной форме.

1 НФ : Все атрибуты всех таблиц являются простыми. В нашей базе данных в ячейках таблиц содержатся только скалярные значения (списков нет).

2 НФ : 1 НФ + каждый не ключевой атрибут неприводимо зависит от первичного ключа (т.е. в составе потенциального первичного ключа отсутствуют меньшее подможество атрибутов, от которого можно также вывести данную функциональную зависимость). В нашей базе данных во всех таблицах первичный ключ состоит только из одного атрибута, поэтому отсутствуют меньшие подмножества.

3 НФ : 2 НФ + каждый не ключевой атрибут нетранзитивно зависит от первичного ключа (т.е. все неключевые поля, содержание которых может относится к нескольким записям таблицы, нужно выносить в отдельные таблицы). Для этого в нашей базе данных реализованы таблицы medicine_indication и medicine_contraindication.

#### Индексы по текстовому неключевому полю:
- адрес аптеки ~ pharmacy(address) -- поиск и удаление по индексу
- название показания ~ indication(indication) -- удаление по индексу
- название противопоказания ~ contraindication(contraindication) -- удаление по индексу
- названия лекарства ~ medicine(medicine_name) -- удаление по индексу

#### Поле заполняемое триггером:
- total_price после того как изменяется стоимость лекарства или количество лекарства в указанной аптеке.
